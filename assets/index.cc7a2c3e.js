import{_ as G}from"./index.8f16f800.js";/* empty css              */import{I as Y,R as L}from"./ROENFT__factory.67be05ff.js";/* empty css              */import{f as C}from"./index.1e82a641.js";/* empty css               *//* empty css               *//* empty css               */import{d as N,r as w,o as U,b as z,B as c,C as m,aH as i,aG as r,F as n,aN as d,u as t,aJ as Q,aI as I,aD as k,aE as R,aM as B,aR as O,a$ as F,b0 as K,b1 as P,b2 as T,b3 as H,b4 as X,b5 as Z,aX as W,b6 as $}from"./arco.a48bb61d.js";import{t as ee,a as ae,b as V,u as _,s as y,c as se,B as f}from"./walletProvider.4ff47679.js";import"./chart.ce373ccb.js";import"./vue.382aebc7.js";var M="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/roe.65067612.png",te="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/bnb.c1a0fa24.png",oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAq1BMVEUAAAAgn4Akp4AkqIAjqIAkqYAkqYAlqYAkqoAkqoAlp4AlqoAgp4AjqYAlqoEop4AmrIEkqYAlqoAmqYEkqYAlqYAkqIAlqIAgr4Alp4AjpoAkqYA/tI///fp3yK7j8utow6bI6NxAtJB2yK6S072t3s2649TW7eOEzrZbvp9NuZcyroe749Sf2MQxrofk8utpw6at3szx+PPk8+tAtI/x+PLj8+uR073///8cdPijAAAAG3RSTlMAEEBwkK/P3++/YJ8gUG8gX48wX++gsJ8QoFCoGir2AAAAAWJLR0Q4oAel1gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UGEQQPHpcmbLsAAAM5SURBVGjexZrtdqMgEIZRNKhpN036le6UTf2KYmLSNd3d+7+z/ZG2SSwiKHP6/jQn8wADA8xAiJYcl3r+hAUAAAELfY+6DrElJ5oykGgyja4sWKchKBSOZLhK60f518Mbz0BLLBpk/0cA2hqAcBkYyRAx88FYUwN33wQwQNqdcOYwUHOtxTdjMFhMY5gWAYwQW/QOP4zUbc/kh9GiyPaVhBuwos5RWoAlLezPz0vdSWerY80+AJOtuDlY1Pyr/Qis6hbPAR1uuAfL8lEHCADAvQBIBuiZG+iXZCb1dWAs4CJkMAzAnaP2wGjAWRcYDuDTC9eAA/icSA9YgPB9EQMWABzVIrMBOLo5xAOEihGC51VL5wbbv71A9xhph6H4DKD7n8gkjg4BPBJCJpgARsgSMAHgEBcX4BKKC6DEwwV4HYHopOQlzfJ1sSou10GxiuM8K0XV8/cH0n0T3ogyL4ptXaZVsgOAfasHiXgt621RrDOx6TQyIR3HlU0ZF3l60b59xxBVr7+LOKu65qn0QiPiJhPtj3uFD57LVZFKz0dE1vqY17uvn/dqJ2f88Cb5LANseSxrTA8Atvyw0wNw/ufNHLDZcy70ABnnh9QUIArO/8qGSObkrOH8ULebsz2F/6Jt/V/MudRxdx1HlnLFOW/i+qXaqBfSJknrdcM5b2ohn6Zd0Vpk76Ghidd1VqZCVEmSJABJkiSVEGma1fnH8l7VYte1aapChSjruFFvxk2Rl13Gj6GiN9jtKpFmdR5foOI4z7P0tdr1Bzv0cI2+4aBvmYRhAiaEkCfsYwv6wWuJCbhSHH5tAI4XBIoHOCY6l3iA93xCiAV4+MhTYwF+Kq+x4wGnZALFAZxy2csAA3CeDaEYgKgnnTMWwC4LHvYBrWqCbxvw2E4KBnYBXysJkV2ApNzi2QR4kszvsm8mlflJQ1LLOm7QvX5ffU9631p6VlFPozbsK4s4FNm+hVHqrTcuRuX5g8X3lxoJWXpD7Xu6LxWiQZ0IDGrWsydz+77Z+wTTTjDXuKpvggjooHcJughGBz9DudbYSUOXjNEsUj89oRbe0MyiJ2k6gE0jiy90XOr54cfzn4nB85//6QsJ/u8dPR4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDYtMTdUMDQ6MTQ6MzgrMDA6MDBJi2a/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA2LTE3VDA0OjE0OjM4KzAwOjAwONbeAwAAAABJRU5ErkJggg==";const ne={class:"swap-content"},ie={class:"swap-header"},le={class:"swap-input-cion"},re={class:"swap-input-cion-option"},de=["src"],Ae={style:{"margin-left":"0.5rem"}},ce={class:"swap-input-cion-option"},pe=["src"],ge={style:{"margin-left":"0.5rem"}},ue={key:0,style:{margin:"0",padding:"0"}},me=B(" max "),_e={class:"swap-input-cion"},fe={class:"swap-input-cion-option"},he=["src"],ve={style:{"margin-left":"0.5rem"}},be={key:0,style:{margin:"0",padding:"0"}},we=N({setup(ke){const x=w([{name:"ROE",address:ee,image:M,disabled:!1},{name:"USDT",address:ae,image:oe,disabled:!0},{name:"BNB",address:"",image:te,disabled:!0}]),e=w({loading:!1,token:x[0],value:1,balance:0}),p=w({balance:0,value:0,loading:!1}),E=async s=>{const a=_();if(a){e.loading=!0;let o;if(s.address){const A=Y.connect(s.address,a),g=await a.getAddress(),u=await A.allowance(g,y);o=await A.balanceOf(g),s.approve=u.gt(f.from("2").pow(f.from("128")))}else o=await a.getBalance();console.log(s.name,C(o)),e.balance=Number(Number(C(o)).toFixed(2))}e.loading=!1},q=async()=>{p.loading=!0;try{const s=_();s&&(await(await Y.connect(e.token.address,s).approve(y,se)).wait(),e.token.approve=!0)}catch(s){const{error:a,message:o}=s;O.warning(a?a.data.message:o)}finally{p.loading=!1}},J=async()=>{var s;p.loading=!0;try{const a=_();if(a){const{token:o,value:A}=e;(s=o.approve)==null||s.valueOf(),await(await L.connect(y,a).recharge(f.from(A),f.from(1))).wait()}}catch(a){const{error:o,message:A}=a;O.warning(o?o.data.message:A)}finally{p.loading=!1}},h=()=>{E(e.token)};return U(()=>{V.on(h),_()&&h()}),z(()=>{V.off(h)}),(s,a)=>{const o=F,A=K,g=P,u=T,j=H,v=X,S=Z,b=W,D=$;return c(),m("div",ne,[i(D,{class:"swap-box"},{default:r(()=>[n("div",ie,[n("h3",null,d(s.$t("menu.recharge")),1)]),i(o),n("div",le,[i(g,{modelValue:t(e).token,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).token=l),style:{width:"120px"},placeholder:"BNB",bordered:!1,"value-key":"name",onChange:E},{label:r(({data:{value:l}})=>[n("div",re,[n("img",{src:l.image},null,8,de),n("span",Ae,d(l.name),1)])]),default:r(()=>[(c(!0),m(Q,null,I(t(x),l=>(c(),k(A,{key:l.name,value:l,disabled:l.disabled},{default:r(()=>[n("div",ce,[n("img",{src:l.image},null,8,pe),n("span",ge,d(l.name),1)])]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","onChange"]),i(v,null,{default:r(()=>[i(j,{animation:"",loading:t(e).loading},{default:r(()=>[i(u,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?R("",!0):(c(),m("h4",ue,d(s.$t("recharge.balance"))+" : "+d(t(e).balance),1))]),_:1})]),i(v,{class:"swap-input",direction:"vertical",fill:""},{default:r(()=>[i(S,{modelValue:t(e).value,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).value=l),min:1,max:t(e).balance,size:"large","hide-button":""},null,8,["modelValue","max"]),n("div",null,[i(b,{shape:"round",size:"small",type:"outline",status:"success",onClick:a[2]||(a[2]=l=>t(e).value=t(e).balance)},{default:r(()=>[me]),_:1})])]),_:1}),i(o),n("div",_e,[n("div",null,[n("div",fe,[n("img",{src:t(M)},null,8,he),n("span",ve,d(s.$t("user.diamond")),1)])]),i(v,null,{default:r(()=>[i(j,{animation:"",loading:t(e).loading},{default:r(()=>[i(u,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?R("",!0):(c(),m("h4",be,d(s.$t("recharge.outdiamond"))+" : "+d(t(e).value),1))]),_:1})]),i(o),t(e).token.approve===!0?(c(),k(b,{key:0,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",type:"primary",size:"large",loading:t(p).loading,onClick:J},{default:r(()=>[B(d(s.$t("recharge.swap")),1)]),_:1},8,["loading"])):(c(),k(b,{key:1,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",status:"success",type:"primary",size:"large",loading:t(p).loading,onClick:q},{default:r(()=>[B(d(s.$t("recharge.approve")),1)]),_:1},8,["loading"]))]),_:1})])}}});var Je=G(we,[["__scopeId","data-v-7f79a60c"]]);export{Je as default};
