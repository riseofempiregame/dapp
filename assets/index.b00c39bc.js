import{_ as G}from"./index.a79b1f65.js";/* empty css              *//* empty css              *//* empty css              */import{f as Y}from"./index.a93700e1.js";/* empty css               *//* empty css               *//* empty css               */import{d as L,r as b,o as N,b as U,B as c,C as m,aH as i,aG as d,F as o,aN as r,u as t,aJ as z,aI as Q,aD as k,aE as C,aM as B,aR as R,a$ as I,b0 as K,b1 as P,b2 as F,b3 as H,b4 as T,b5 as X,aX as Z,b6 as W}from"./arco.9b030e5c.js";import{t as $,a as ee,b as V,u as _,I as M,s as x,c as ae,R as se,B as f}from"./walletProvider.fc3ac427.js";import"./chart.3fc0a8c8.js";import"./vue.fa72a6ed.js";var O="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/roe.65067612.png",te="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/bnb.c1a0fa24.png",ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAq1BMVEUAAAAgn4Akp4AkqIAjqIAkqYAkqYAlqYAkqoAkqoAlp4AlqoAgp4AjqYAlqoEop4AmrIEkqYAlqoAmqYEkqYAlqYAkqIAlqIAgr4Alp4AjpoAkqYA/tI///fp3yK7j8utow6bI6NxAtJB2yK6S072t3s2649TW7eOEzrZbvp9NuZcyroe749Sf2MQxrofk8utpw6at3szx+PPk8+tAtI/x+PLj8+uR073///8cdPijAAAAG3RSTlMAEEBwkK/P3++/YJ8gUG8gX48wX++gsJ8QoFCoGir2AAAAAWJLR0Q4oAel1gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UGEQQPHpcmbLsAAAM5SURBVGjexZrtdqMgEIZRNKhpN036le6UTf2KYmLSNd3d+7+z/ZG2SSwiKHP6/jQn8wADA8xAiJYcl3r+hAUAAAELfY+6DrElJ5oykGgyja4sWKchKBSOZLhK60f518Mbz0BLLBpk/0cA2hqAcBkYyRAx88FYUwN33wQwQNqdcOYwUHOtxTdjMFhMY5gWAYwQW/QOP4zUbc/kh9GiyPaVhBuwos5RWoAlLezPz0vdSWerY80+AJOtuDlY1Pyr/Qis6hbPAR1uuAfL8lEHCADAvQBIBuiZG+iXZCb1dWAs4CJkMAzAnaP2wGjAWRcYDuDTC9eAA/icSA9YgPB9EQMWABzVIrMBOLo5xAOEihGC51VL5wbbv71A9xhph6H4DKD7n8gkjg4BPBJCJpgARsgSMAHgEBcX4BKKC6DEwwV4HYHopOQlzfJ1sSou10GxiuM8K0XV8/cH0n0T3ogyL4ptXaZVsgOAfasHiXgt621RrDOx6TQyIR3HlU0ZF3l60b59xxBVr7+LOKu65qn0QiPiJhPtj3uFD57LVZFKz0dE1vqY17uvn/dqJ2f88Cb5LANseSxrTA8Atvyw0wNw/ufNHLDZcy70ABnnh9QUIArO/8qGSObkrOH8ULebsz2F/6Jt/V/MudRxdx1HlnLFOW/i+qXaqBfSJknrdcM5b2ohn6Zd0Vpk76Ghidd1VqZCVEmSJABJkiSVEGma1fnH8l7VYte1aapChSjruFFvxk2Rl13Gj6GiN9jtKpFmdR5foOI4z7P0tdr1Bzv0cI2+4aBvmYRhAiaEkCfsYwv6wWuJCbhSHH5tAI4XBIoHOCY6l3iA93xCiAV4+MhTYwF+Kq+x4wGnZALFAZxy2csAA3CeDaEYgKgnnTMWwC4LHvYBrWqCbxvw2E4KBnYBXysJkV2ApNzi2QR4kszvsm8mlflJQ1LLOm7QvX5ffU9631p6VlFPozbsK4s4FNm+hVHqrTcuRuX5g8X3lxoJWXpD7Xu6LxWiQZ0IDGrWsydz+77Z+wTTTjDXuKpvggjooHcJughGBz9DudbYSUOXjNEsUj89oRbe0MyiJ2k6gE0jiy90XOr54cfzn4nB85//6QsJ/u8dPR4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDYtMTdUMDQ6MTQ6MzgrMDA6MDBJi2a/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA2LTE3VDA0OjE0OjM4KzAwOjAwONbeAwAAAABJRU5ErkJggg==";const oe={class:"swap-content"},ie={class:"swap-header"},le={class:"swap-input-cion"},de={class:"swap-input-cion-option"},re=["src"],Ae={style:{"margin-left":"0.5rem"}},ce={class:"swap-input-cion-option"},pe=["src"],ge={style:{"margin-left":"0.5rem"}},ue={key:0,style:{margin:"0",padding:"0"}},me=B(" max "),_e={class:"swap-input-cion"},fe={class:"swap-input-cion-option"},he=["src"],ve={style:{"margin-left":"0.5rem"}},we={key:0,style:{margin:"0",padding:"0"}},be=L({setup(ke){const y=b([{name:"ROE",address:$,image:O,disabled:!1},{name:"USDT",address:ee,image:ne,disabled:!0},{name:"BNB",address:"",image:te,disabled:!0}]),e=b({loading:!1,token:y[0],value:1,balance:0}),p=b({balance:0,value:0,loading:!1}),j=async s=>{const a=_();if(a){e.loading=!0;let n;if(s.address){const A=M.connect(s.address,a),g=await a.getAddress(),u=await A.allowance(g,x);n=await A.balanceOf(g),s.approve=u.gt(f.from("2").pow(f.from("128")))}else n=await a.getBalance();console.log(s.name,Y(n)),e.balance=Number(Number(Y(n)).toFixed(2))}e.loading=!1},q=async()=>{p.loading=!0;try{const s=_();s&&(await(await M.connect(e.token.address,s).approve(x,ae)).wait(),e.token.approve=!0)}catch(s){const{error:a,message:n}=s;R.warning(a?a.data.message:n)}finally{p.loading=!1}},J=async()=>{var s;p.loading=!0;try{const a=_();if(a){const{token:n,value:A}=e;(s=n.approve)==null||s.valueOf(),await(await se.connect(x,a).recharge(f.from(A),f.from(1))).wait()}}catch(a){const{error:n,message:A}=a;R.warning(n?n.data.message:A)}finally{p.loading=!1}},h=()=>{j(e.token)};return N(()=>{V.on(h),_()&&h()}),U(()=>{V.off(h)}),(s,a)=>{const n=I,A=K,g=P,u=F,E=H,v=T,S=X,w=Z,D=W;return c(),m("div",oe,[i(D,{class:"swap-box"},{default:d(()=>[o("div",ie,[o("h3",null,r(s.$t("menu.recharge")),1)]),i(n),o("div",le,[i(g,{modelValue:t(e).token,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).token=l),style:{width:"120px"},placeholder:"BNB",bordered:!1,"value-key":"name",onChange:j},{label:d(({data:{value:l}})=>[o("div",de,[o("img",{src:l.image},null,8,re),o("span",Ae,r(l.name),1)])]),default:d(()=>[(c(!0),m(z,null,Q(t(y),l=>(c(),k(A,{key:l.name,value:l,disabled:l.disabled},{default:d(()=>[o("div",ce,[o("img",{src:l.image},null,8,pe),o("span",ge,r(l.name),1)])]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","onChange"]),i(v,null,{default:d(()=>[i(E,{animation:"",loading:t(e).loading},{default:d(()=>[i(u,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?C("",!0):(c(),m("h4",ue,r(s.$t("recharge.balance"))+" : "+r(t(e).balance),1))]),_:1})]),i(v,{class:"swap-input",direction:"vertical",fill:""},{default:d(()=>[i(S,{modelValue:t(e).value,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).value=l),min:1,max:t(e).balance,size:"large","hide-button":""},null,8,["modelValue","max"]),o("div",null,[i(w,{shape:"round",size:"small",type:"outline",status:"success",onClick:a[2]||(a[2]=l=>t(e).value=t(e).balance)},{default:d(()=>[me]),_:1})])]),_:1}),i(n),o("div",_e,[o("div",null,[o("div",fe,[o("img",{src:t(O)},null,8,he),o("span",ve,r(s.$t("user.diamond")),1)])]),i(v,null,{default:d(()=>[i(E,{animation:"",loading:t(e).loading},{default:d(()=>[i(u,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?C("",!0):(c(),m("h4",we,r(s.$t("recharge.outdiamond"))+" : "+r(t(e).value),1))]),_:1})]),i(n),t(e).token.approve===!0?(c(),k(w,{key:0,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",type:"primary",size:"large",loading:t(p).loading,onClick:J},{default:d(()=>[B(r(s.$t("recharge.swap")),1)]),_:1},8,["loading"])):(c(),k(w,{key:1,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",status:"success",type:"primary",size:"large",loading:t(p).loading,onClick:q},{default:d(()=>[B(r(s.$t("recharge.approve")),1)]),_:1},8,["loading"]))]),_:1})])}}});var Je=G(be,[["__scopeId","data-v-7f79a60c"]]);export{Je as default};
