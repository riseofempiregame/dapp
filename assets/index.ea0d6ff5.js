import{_ as G}from"./index.4ef47345.js";/* empty css              *//* empty css              *//* empty css              */import{f as Y}from"./index.7d633cc5.js";/* empty css               *//* empty css               */import{t as L,a as N,b as C,u as m,I as R,s as w,c as U,R as z,B as _}from"./walletProvider.c245a119.js";/* empty css               */import{d as Q,r as k,o as I,b as K,B as c,C as f,aH as i,aG as d,F as o,aN as r,u as t,aJ as P,aI as F,aD as B,aE as V,aM as x,aR as M,b5 as H,b6 as T,b7 as X,b8 as Z,b9 as W,ba as $,bb as ee,aX as ae,bc as se}from"./arco.2d71d886.js";import"./chart.be7017d0.js";import"./vue.8d2bace5.js";var O="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/roe.65067612.png",te="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/bnb.c1a0fa24.png",ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAq1BMVEUAAAAgn4Akp4AkqIAjqIAkqYAkqYAlqYAkqoAkqoAlp4AlqoAgp4AjqYAlqoEop4AmrIEkqYAlqoAmqYEkqYAlqYAkqIAlqIAgr4Alp4AjpoAkqYA/tI///fp3yK7j8utow6bI6NxAtJB2yK6S072t3s2649TW7eOEzrZbvp9NuZcyroe749Sf2MQxrofk8utpw6at3szx+PPk8+tAtI/x+PLj8+uR073///8cdPijAAAAG3RSTlMAEEBwkK/P3++/YJ8gUG8gX48wX++gsJ8QoFCoGir2AAAAAWJLR0Q4oAel1gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UGEQQPHpcmbLsAAAM5SURBVGjexZrtdqMgEIZRNKhpN036le6UTf2KYmLSNd3d+7+z/ZG2SSwiKHP6/jQn8wADA8xAiJYcl3r+hAUAAAELfY+6DrElJ5oykGgyja4sWKchKBSOZLhK60f518Mbz0BLLBpk/0cA2hqAcBkYyRAx88FYUwN33wQwQNqdcOYwUHOtxTdjMFhMY5gWAYwQW/QOP4zUbc/kh9GiyPaVhBuwos5RWoAlLezPz0vdSWerY80+AJOtuDlY1Pyr/Qis6hbPAR1uuAfL8lEHCADAvQBIBuiZG+iXZCb1dWAs4CJkMAzAnaP2wGjAWRcYDuDTC9eAA/icSA9YgPB9EQMWABzVIrMBOLo5xAOEihGC51VL5wbbv71A9xhph6H4DKD7n8gkjg4BPBJCJpgARsgSMAHgEBcX4BKKC6DEwwV4HYHopOQlzfJ1sSou10GxiuM8K0XV8/cH0n0T3ogyL4ptXaZVsgOAfasHiXgt621RrDOx6TQyIR3HlU0ZF3l60b59xxBVr7+LOKu65qn0QiPiJhPtj3uFD57LVZFKz0dE1vqY17uvn/dqJ2f88Cb5LANseSxrTA8Atvyw0wNw/ufNHLDZcy70ABnnh9QUIArO/8qGSObkrOH8ULebsz2F/6Jt/V/MudRxdx1HlnLFOW/i+qXaqBfSJknrdcM5b2ohn6Zd0Vpk76Ghidd1VqZCVEmSJABJkiSVEGma1fnH8l7VYte1aapChSjruFFvxk2Rl13Gj6GiN9jtKpFmdR5foOI4z7P0tdr1Bzv0cI2+4aBvmYRhAiaEkCfsYwv6wWuJCbhSHH5tAI4XBIoHOCY6l3iA93xCiAV4+MhTYwF+Kq+x4wGnZALFAZxy2csAA3CeDaEYgKgnnTMWwC4LHvYBrWqCbxvw2E4KBnYBXysJkV2ApNzi2QR4kszvsm8mlflJQ1LLOm7QvX5ffU9631p6VlFPozbsK4s4FNm+hVHqrTcuRuX5g8X3lxoJWXpD7Xu6LxWiQZ0IDGrWsydz+77Z+wTTTjDXuKpvggjooHcJughGBz9DudbYSUOXjNEsUj89oRbe0MyiJ2k6gE0jiy90XOr54cfzn4nB85//6QsJ/u8dPR4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDYtMTdUMDQ6MTQ6MzgrMDA6MDBJi2a/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA2LTE3VDA0OjE0OjM4KzAwOjAwONbeAwAAAABJRU5ErkJggg==";const oe={class:"swap-content"},ie={class:"swap-header"},le={class:"swap-input-cion"},de={class:"swap-input-cion-option"},re=["src"],Ae={style:{"margin-left":"0.5rem"}},ce={class:"swap-input-cion-option"},pe=["src"],ge={style:{"margin-left":"0.5rem"}},ue={key:0,style:{margin:"0",padding:"0"}},me=x(" max "),_e={class:"swap-input-cion"},fe={class:"swap-input-cion-option"},he=["src"],ve={style:{"margin-left":"0.5rem"}},be={key:0,style:{margin:"0",padding:"0"}},we=Q({setup(ke){const y=k([{name:"ROE",address:L,image:O,disabled:!1},{name:"USDT",address:N,image:ne,disabled:!0},{name:"BNB",address:"",image:te,disabled:!0}]),e=k({loading:!1,token:y[0],value:1,balance:0}),p=k({balance:0,value:0,loading:!1}),j=async s=>{const a=m();if(a){e.loading=!0;let n;if(s.address){const A=R.connect(s.address,a),g=await a.getAddress(),u=await A.allowance(g,w);n=await A.balanceOf(g),s.approve=u.gt(_.from("2").pow(_.from("128")))}else n=await a.getBalance();console.log(s.name,Y(n)),e.balance=Number(Number(Y(n)).toFixed(2))}e.loading=!1},q=async()=>{p.loading=!0;try{const s=m();s&&(await(await R.connect(e.token.address,s).approve(w,U)).wait(),e.token.approve=!0)}catch(s){const{error:a,message:n}=s;M.warning(a?a.data.message:n)}finally{p.loading=!1}},J=async()=>{var s;p.loading=!0;try{const a=m();if(a){const{token:n,value:A}=e;(s=n.approve)==null||s.valueOf(),await(await z.connect(w,a).recharge(_.from(A),_.from(1))).wait()}}catch(a){const{error:n,message:A}=a;M.warning(n?n.data.message:A)}finally{p.loading=!1}},h=()=>{j(e.token)};return I(()=>{C.on(h),m()&&h()}),K(()=>{C.off(h)}),(s,a)=>{const n=H,A=T,g=X,u=Z,E=W,v=$,S=ee,b=ae,D=se;return c(),f("div",oe,[i(D,{class:"swap-box"},{default:d(()=>[o("div",ie,[o("h3",null,r(s.$t("menu.recharge")),1)]),i(n),o("div",le,[i(g,{modelValue:t(e).token,"onUpdate:modelValue":a[0]||(a[0]=l=>t(e).token=l),style:{width:"120px"},placeholder:"BNB",bordered:!1,"value-key":"name",onChange:j},{label:d(({data:{value:l}})=>[o("div",de,[o("img",{src:l.image},null,8,re),o("span",Ae,r(l.name),1)])]),default:d(()=>[(c(!0),f(P,null,F(t(y),l=>(c(),B(A,{key:l.name,value:l,disabled:l.disabled},{default:d(()=>[o("div",ce,[o("img",{src:l.image},null,8,pe),o("span",ge,r(l.name),1)])]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","onChange"]),i(v,null,{default:d(()=>[i(E,{animation:"",loading:t(e).loading},{default:d(()=>[i(u,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?V("",!0):(c(),f("h4",ue,r(s.$t("recharge.balance"))+" : "+r(t(e).balance),1))]),_:1})]),i(v,{class:"swap-input",direction:"vertical",fill:""},{default:d(()=>[i(S,{modelValue:t(e).value,"onUpdate:modelValue":a[1]||(a[1]=l=>t(e).value=l),min:1,max:t(e).balance,size:"large","hide-button":""},null,8,["modelValue","max"]),o("div",null,[i(b,{shape:"round",size:"small",type:"outline",status:"success",onClick:a[2]||(a[2]=l=>t(e).value=t(e).balance)},{default:d(()=>[me]),_:1})])]),_:1}),i(n),o("div",_e,[o("div",null,[o("div",fe,[o("img",{src:t(O)},null,8,he),o("span",ve,r(s.$t("user.diamond")),1)])]),i(v,null,{default:d(()=>[i(E,{animation:"",loading:t(e).loading},{default:d(()=>[i(u,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?V("",!0):(c(),f("h4",be,r(s.$t("recharge.outdiamond"))+" : "+r(t(e).value),1))]),_:1})]),i(n),t(e).token.approve===!0?(c(),B(b,{key:0,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",type:"primary",size:"large",loading:t(p).loading,onClick:J},{default:d(()=>[x(r(s.$t("recharge.swap")),1)]),_:1},8,["loading"])):(c(),B(b,{key:1,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",status:"success",type:"primary",size:"large",loading:t(p).loading,onClick:q},{default:d(()=>[x(r(s.$t("recharge.approve")),1)]),_:1},8,["loading"]))]),_:1})])}}});var Je=G(we,[["__scopeId","data-v-7f79a60c"]]);export{Je as default};
