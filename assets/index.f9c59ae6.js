import{_ as N,b as D}from"./index.f71c2c63.js";/* empty css               *//* empty css              *//* empty css              */import{t as L,e as G,b as j,d as h,a as C,s as Y,c as U,u as z,p as O,f as Q,h as T}from"./walletProvider.20621f46.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as H,r as k,w as I,o as K,b as F,B as u,C as _,aH as r,aG as d,F as o,aN as A,u as t,aJ as P,aI as X,aD as f,aE as Z,aM as B,aR as R,b8 as W,b9 as $,ba as ee,bb as ae,bc as se,b4 as te,bd as ne,aX as oe,be as ie}from"./arco.8464fde2.js";import"./chart.fc3d73b6.js";import"./vue.012b1438.js";var V="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/roe.65067612.png",le="https://cdn.jsdelivr.net/gh/riseofempiregame/dapp@latest/assets/bnb.c1a0fa24.png",re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAq1BMVEUAAAAgn4Akp4AkqIAjqIAkqYAkqYAlqYAkqoAkqoAlp4AlqoAgp4AjqYAlqoEop4AmrIEkqYAlqoAmqYEkqYAlqYAkqIAlqIAgr4Alp4AjpoAkqYA/tI///fp3yK7j8utow6bI6NxAtJB2yK6S072t3s2649TW7eOEzrZbvp9NuZcyroe749Sf2MQxrofk8utpw6at3szx+PPk8+tAtI/x+PLj8+uR073///8cdPijAAAAG3RSTlMAEEBwkK/P3++/YJ8gUG8gX48wX++gsJ8QoFCoGir2AAAAAWJLR0Q4oAel1gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UGEQQPHpcmbLsAAAM5SURBVGjexZrtdqMgEIZRNKhpN036le6UTf2KYmLSNd3d+7+z/ZG2SSwiKHP6/jQn8wADA8xAiJYcl3r+hAUAAAELfY+6DrElJ5oykGgyja4sWKchKBSOZLhK60f518Mbz0BLLBpk/0cA2hqAcBkYyRAx88FYUwN33wQwQNqdcOYwUHOtxTdjMFhMY5gWAYwQW/QOP4zUbc/kh9GiyPaVhBuwos5RWoAlLezPz0vdSWerY80+AJOtuDlY1Pyr/Qis6hbPAR1uuAfL8lEHCADAvQBIBuiZG+iXZCb1dWAs4CJkMAzAnaP2wGjAWRcYDuDTC9eAA/icSA9YgPB9EQMWABzVIrMBOLo5xAOEihGC51VL5wbbv71A9xhph6H4DKD7n8gkjg4BPBJCJpgARsgSMAHgEBcX4BKKC6DEwwV4HYHopOQlzfJ1sSou10GxiuM8K0XV8/cH0n0T3ogyL4ptXaZVsgOAfasHiXgt621RrDOx6TQyIR3HlU0ZF3l60b59xxBVr7+LOKu65qn0QiPiJhPtj3uFD57LVZFKz0dE1vqY17uvn/dqJ2f88Cb5LANseSxrTA8Atvyw0wNw/ufNHLDZcy70ABnnh9QUIArO/8qGSObkrOH8ULebsz2F/6Jt/V/MudRxdx1HlnLFOW/i+qXaqBfSJknrdcM5b2ohn6Zd0Vpk76Ghidd1VqZCVEmSJABJkiSVEGma1fnH8l7VYte1aapChSjruFFvxk2Rl13Gj6GiN9jtKpFmdR5foOI4z7P0tdr1Bzv0cI2+4aBvmYRhAiaEkCfsYwv6wWuJCbhSHH5tAI4XBIoHOCY6l3iA93xCiAV4+MhTYwF+Kq+x4wGnZALFAZxy2csAA3CeDaEYgKgnnTMWwC4LHvYBrWqCbxvw2E4KBnYBXysJkV2ApNzi2QR4kszvsm8mlflJQ1LLOm7QvX5ffU9631p6VlFPozbsK4s4FNm+hVHqrTcuRuX5g8X3lxoJWXpD7Xu6LxWiQZ0IDGrWsydz+77Z+wTTTjDXuKpvggjooHcJughGBz9DudbYSUOXjNEsUj89oRbe0MyiJ2k6gE0jiy90XOr54cfzn4nB85//6QsJ/u8dPR4AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDYtMTdUMDQ6MTQ6MzgrMDA6MDBJi2a/AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA2LTE3VDA0OjE0OjM4KzAwOjAwONbeAwAAAABJRU5ErkJggg==";const de={class:"swap-content"},Ae={class:"swap-header"},ce={class:"swap-input-cion"},ue={class:"swap-input-cion-option"},pe=["src"],ge={style:{"margin-left":"0.5rem"}},me={class:"swap-input-cion-option"},he=["src"],_e={style:{"margin-left":"0.5rem"}},fe={key:0,style:{margin:"0",padding:"0"}},ve=B(" max "),we={class:"swap-input-cion"},be={class:"swap-input-cion-option"},ke=["src"],Be={style:{"margin-left":"0.5rem"}},ye={key:1,style:{margin:"0",padding:"0"}},xe=H({setup(Ee){const y=k([{name:"ROE",address:L,image:V,disabled:!1},{name:"BNB",address:"",image:le,disabled:!1},{name:"USDT",address:G,image:re,disabled:!0}]),e=k({loading:!1,token:y[0],value:1,balance:0}),i=k({balance:0,value:0,loading:!1}),x=async()=>{if(h()){i.loading=!0;try{i.value=await Q(e.value)}catch(a){console.error(a)}i.loading=!1}},E=async a=>{const s=h();if(s){e.loading=!0;let l;if(a.address){const p=C(),g=await s.getAddress(),c=await p.allowance(g,Y);l=await p.balanceOf(g),a.approve=c.gt(O("100000000")),i.value=e.value}else l=await s.getBalance(),a.approve=!0,x();e.balance=Number(Number(T(l)).toFixed(2))}e.loading=!1},M=async()=>{i.loading=!0;try{h()&&(await(await C().approve(Y,U)).wait(),e.token.approve=!0)}catch(a){const{error:s,message:l}=a;R.warning(s?s.data.message:l)}finally{i.loading=!1}},S=async()=>{try{if(h()){i.loading=!0;const{token:s,value:l}=e,p=z(),g=D(),c=Number(g.value.ref);let m;console.log("partner:",c),s.name==="ROE"?m=await p.recharge(Math.floor(l),c||0):m=await p.swapRechargeETH(c||0,{value:O(`${e.value}`)}),await m.wait()}}catch(a){const{error:s,message:l}=a;R.warning(s?s.data.message:l)}finally{i.loading=!1}},v=()=>{E(e.token)};return I(()=>e.value,a=>{switch(e.token.name){case"ROE":i.value=a;break;case"BNB":x();break}}),K(()=>{j.on(v),h()&&v()}),F(()=>{j.off(v)}),(a,s)=>{const l=W,p=$,g=ee,c=ae,m=se,w=te,q=ne,b=oe,J=ie;return u(),_("div",de,[r(J,{class:"swap-box"},{default:d(()=>[o("div",Ae,[o("h3",null,A(a.$t("menu.recharge")),1)]),r(l),o("div",ce,[r(g,{modelValue:t(e).token,"onUpdate:modelValue":s[0]||(s[0]=n=>t(e).token=n),style:{width:"120px"},placeholder:"BNB",bordered:!1,"value-key":"name",onChange:E},{label:d(({data:{value:n}})=>[o("div",ue,[o("img",{src:n.image},null,8,pe),o("span",ge,A(n.name),1)])]),default:d(()=>[(u(!0),_(P,null,X(t(y).filter(n=>!n.disabled),n=>(u(),f(p,{key:n.name,value:n,disabled:n.disabled},{default:d(()=>[o("div",me,[o("img",{src:n.image},null,8,he),o("span",_e,A(n.name),1)])]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue","onChange"]),r(w,null,{default:d(()=>[r(m,{animation:"",loading:t(e).loading},{default:d(()=>[r(c,{widths:[180],"line-height":25})]),_:1},8,["loading"]),t(e).loading?Z("",!0):(u(),_("h4",fe,A(a.$t("recharge.balance"))+" : "+A(t(e).balance),1))]),_:1})]),r(w,{class:"swap-input",direction:"vertical",fill:""},{default:d(()=>[r(q,{modelValue:t(e).value,"onUpdate:modelValue":s[1]||(s[1]=n=>t(e).value=n),min:t(e).token.name==="BNB"?.01:1,max:t(e).balance,size:"large","hide-button":"","model-event":"input"},null,8,["modelValue","min","max"]),o("div",null,[r(b,{shape:"round",size:"small",type:"outline",status:"success",onClick:s[2]||(s[2]=n=>t(e).value=t(e).balance)},{default:d(()=>[ve]),_:1})])]),_:1}),r(l),o("div",we,[o("div",null,[o("div",be,[o("img",{src:t(V)},null,8,ke),o("span",Be,A(a.$t("user.diamond")),1)])]),r(w,null,{default:d(()=>[t(i).loading?(u(),f(m,{key:0,animation:"",loading:t(i).loading},{default:d(()=>[r(c,{widths:[120],"line-height":20})]),_:1},8,["loading"])):(u(),_("h4",ye,A(a.$t("recharge.outdiamond"))+" : "+A(t(i).value),1))]),_:1})]),r(l),t(e).token.approve===!0?(u(),f(b,{key:0,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",type:"primary",size:"large",loading:t(i).loading,onClick:S},{default:d(()=>[B(A(a.$t("recharge.swap")),1)]),_:1},8,["loading"])):(u(),f(b,{key:1,style:{"font-weight":"700",height:"40px","border-radius":"0.5rem"},long:"",status:"success",type:"primary",size:"large",loading:t(i).loading,onClick:M},{default:d(()=>[B(A(a.$t("recharge.approve")),1)]),_:1},8,["loading"]))]),_:1})])}}});var Le=N(xe,[["__scopeId","data-v-26a57c83"]]);export{Le as default};
